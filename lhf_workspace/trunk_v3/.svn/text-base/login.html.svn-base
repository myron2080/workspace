<!DOCTYPE HTML>
<html>
<head>
    <meta name="robots" content="index">
    <meta name="googlebot" content="index">
    <meta name="viewport" content="initial-scale=1, width=device-width, height=device-height, maximum-scale=1, user-scalable=no">
    <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1" media="(device-height: 568px)">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>乐盒饭</title>
    <link rel="stylesheet" href="css/amazeui.css" />
    <link href="css/style.css" type="text/css" rel="stylesheet">
    <style type="text/css">
*,fieldset{ margin:0; padding:0;}
ul{ list-style:none;}
.loginimg{ position:fixed; top:0; left:0; right:0; bottom:0; z-index:-1;}
.loginimg img{ height:100%; width:100%;}
.loginbody{background-color:rgba(255,255,255,0.4);border-radius:4px; color:#FFF; padding:18px 15px 10px 15px; margin:60px 20px 0 20px; font-size:14px;}
.loginbody dt{ font-size:15px; padding:0 0 6px 0;}
.loginbody dd{ font-size:12px; line-height:150%;}
.loginbody ul{ margin:0; padding:0;}
.loginbody ul li{ padding:0 0 10px 0;}
.am-form select, .am-form textarea, .am-form input[type="text"], .am-form input[type="password"], .am-form input[type="datetime"], .am-form input[type="datetime-local"], .am-form input[type="date"], .am-form input[type="month"], .am-form input[type="time"], .am-form input[type="week"], .am-form input[type="number"], .am-form input[type="email"], .am-form input[type="url"], .am-form input[type="search"], .am-form input[type="tel"], .am-form input[type="color"], .am-form-field
 input{width:100%; color: #999; border-radius: 6px; border: none; background:#FFF; padding:8px 10px;}
.loginbody ul li.checkbox{ padding:4px 10px 12px 10px;}
.loginbody a{ display:block; border-radius: 6px; background:#db3c3c; color:#FFF; text-decoration:none; font-size:18px; height:46px; line-height:46px; width:140px; text-align:center; margin:auto;}
.error{ float:right; color:#FF0000; background:#FFF;border-radius: 6px; padding:2px 2px 2px 6px;}
.am-form-group{ margin:0;}
</style>
</head>

<body>
<div class="loginimg"><img src="images/login.jpg" alt=""/></div>
<!--<header data-am-widget="header"
        class="am-header am-header-default" data-am-sticky>
    <div class="am-header-left am-header-nav">
        <a href="address.html" class="">

            <img class="am-header-icon-custom" src="data:image/svg+xml;charset=utf-8,&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 12 20&quot;&gt;&lt;path d=&quot;M10,0l2,2l-8,8l8,8l-2,2L0,10L10,0z&quot; fill=&quot;%23fff&quot;/&gt;&lt;/svg&gt;" alt=""/>
        </a>
    </div>

    <h1 class="am-header-title">团体账户登录</h1>
</header>-->


<div class="am-modal am-modal-no-btn" tabindex="-1" id="your-modal">
    <div class="am-modal-dialog">
        <div class="am-modal-hd">信息
            <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
        </div>
        <div class="am-modal-bd">
            登陆成功
        </div>
    </div>
</div>

<div class="am-modal am-modal-no-btn" tabindex="-1" id="your-modal-error">
    <div class="am-modal-dialog">
        <div class="am-modal-hd">信息
            <a href="javascript: void(0)" class="am-close am-close-spin" data-am-modal-close>&times;</a>
        </div>
        <div class="am-modal-bd">
            	登陆失败
        </div>
    </div>
</div>


<div class="loginbody">





<div class="login">
    <div class="groupTips-text">
    <dl>
<dt>团体点餐说明：</dt>
<dd><div class="groupTips-content">
            欢迎使用乐盒饭团体订餐功能，若您需要团体订餐，请使用团体帐户登录进行点菜，登录成功后我们将会把您的帐号绑定到您的团体帐户上，在该次点餐会话中我们会将您的帐户识别为团体帐户使用......
        </div></dd>
</dl>
        
    </div>
    <div class="login-form loginform">

        <form action="javascript: void(0)" class="am-form" id="doc-vld-msg">
            <fieldset>


               <ul><li> <div class="am-form-group">
                    <input type="text" id="tuantiID"  data-validation-message="请输入您的团体账号" placeholder="请输入您的团体账号" required/>
                </div></li>



               <li> <div class="am-form-group">
                    <input type="password" id="tuantiPWD" data-validation-message="请输入您的密码" placeholder="请输入您的密码"  required/>
                </div>
</li>


               <li> <button class="btnLinkRed btnPay" type="submit" style="width: 100%;">马上点餐</button></li></ul>
            </fieldset>
        </form>

<!--
        <form>
            <div class="login-form-tips" id="login-form-tips">密码输入错误！</div>
            <div class="lo-row"><input type="text" class="loginText" placeholder="请输入您的团体账号"></div>
            <div class="lo-row"><input type="password" class="loginText" placeholder="请输入您的密码"></div>
            <div class="lo-row checkQucan">
                <div class="checkbox">
                    <input type="checkbox" value="1" id="login-check" name="" />
                    <label for="login-check"></label>
                </div>
                <p>记住密码</p>
            </div>
            <div class="lo-row"><a href="#" class="btnLinkRed btnPay">马上点餐</a> </div>
        </form>-->
    </div>
</div></div>






<!--<style type="text/css">
    .login{position: relative;}
    .groupTips-text{margin: 10px 30px 0; color: #ccc; line-height: 25px; font-size: 0.8em;}
    .groupTips-text h3{font-size: 1em; font-weight: normal;}
    .login-form{margin: 30px;}
    .login-form-tips{color: #f9b52c; font-size: 1em; line-height: 30px;}
    .lo-row{height: 50px;}
    .loginText{width: 92%; padding: 8px; color: #fff; border-radius: 3px; border: none; background-color: rgba(255,255,255,0.3); box-shadow: 0 0 5px rgba(0,0,0,0.2);}
    .login .checkQucan{margin: 0;}
    .login .checkQucan label{height: 10px; width: 10px; top: 5px;}
    .login .checkQucan p{font-size: 0.9em;}
</style>-->




<script src="js/jquery.min.js"></script>
<script src="js/amazeui.js"></script>

<script type="text/javascript" src="js/address/editAddress.js"></script>
<script type="text/javascript" src="js/ajaxUtils.js"></script>
<script type="text/javascript" src="js/front-engine.js"></script>

<script type="text/javascript">
    $(function() {
    	//判断登陆是否成功
    	$.frontEngine.loginIsSuccessOrError();
		  
		  
        $('#doc-vld-msg').validator({
            submit: function() {
                var formValidity = this.isFormValid();
                if(formValidity){

                   /* var  address_id =$.frontEngine.getUrlParameter("addressId");//获取url中id(param);
                    if(address_id==null || address_id=="" || typeof(address_id)=="undefined"){
                        address_id="";
                    }*/
                    // 验证成功的逻辑
                   // var url=location.origin+"/lunch/api";
                    var url="data/getUserInfo.json";
                    var changeUrl='index.html?getDataIdent=Y&apiNumber=703_getUserInfoByCode&params={"code":"xxx"}';
                    var type="get";
                    var tuantiID=  $("#tuantiID").val(); //number
                    var tuantiPWD=  $("#tuantiPWD").val(); //companyName
                    var jsonData = {
                        'getDataIdent':'Y',
                        'apiNumber':'703_teamLogin',
                        'params':'{"account":"'+tuantiID+'","password":"'+tuantiPWD+'"}'
                    }
                    //alert(tuantiID);

                    sessionStorage.userType=1;

                    $.frontEngine.common_doSave(url,changeUrl,type,"",jsonData);

                }else{
                    // 验证失败的逻辑
                    return false;
                }

            },
            onValid: function(validity) {
                $(validity.field).closest('.am-form-group').find('.am-alert').hide();
            },

            onInValid: function(validity) {
                var $field = $(validity.field);
                var $group = $field.closest('.am-form-group');
                var $alert = $group.find('.am-alert');
                // 使用自定义的提示信息 或 插件内置的提示信息
                var msg = $field.data('validationMessage') || this.getValidationMessage(validity);

                if (!$alert.length) {
                    $alert = $('<div class="am-alert am-alert-danger"></div>').hide().
                            appendTo($group);
                }

                $alert.html(msg).show();
            }
        });
    });
</script>


</body>
</html>
